{"name":"Asterisk-ispeech","tagline":"AGI scripts for TTS and ASR using iSpeech service","body":"==============================================\r\n       iSpeech plugins for Asterisk\r\n==============================================\r\n\r\nThese plugins provide access to iSpeech Text To Speech and Automatic Speech Recognition\r\nservices making them available for use with Asterisk PBX.\r\nhttp://www.ispeech.org/\r\n\r\n------------\r\nRequirements\r\n------------\r\nPerl          The Perl Programming Language\r\nperl-libwww   The World-Wide Web library for Perl\r\nIO-Socket-SSL Perl module that implements an interface to SSL sockets.\r\n\r\nInternet access in order to contact google and get the speech data.\r\n** Optional**\r\nspeex         patent-free audio compression format designed for speech.\r\n\r\n------------\r\nInstallation\r\n------------\r\nTo install copy ispeech-asr.agi and ispeech-tts.agi to your agi-bin directory.\r\nUsually this is /var/lib/asterisk/agi-bin/\r\nTo make sure check your /etc/asterisk/asterisk.conf file\r\n\r\n-----\r\nUsage\r\n-----\r\n\r\n  agi(ispeech-tts.agi,\"text\",[voice],[intkey],[speed]):\r\nThis will invoke the iSpeech TTS engine, render the text string to speech and play it\r\nback to the user. If 'intkey' is set the script will wait for user input.\r\nAny given interrupt keys will cause the playback to immediately terminate and\r\nthe dialplan to proceed to the matching extension (this is mainly for use in IVR,\r\nsee README for examples). If 'speed' is set the speech rate is altered by that factor.\r\n\r\n\r\n  agi(ispeech-asr.agi,[lang],[freeform],[model],[timeout],[intkey],[NOBEEP]):\r\nRecords from the current channel untill 3 seconds of silence are detected\r\n(this can be set by the user by the 'timeout' argument, -1 for no timeout) or the\r\ninterrupt key (# by default) is pressed. If NOBEEP is set, no beep sound is played\r\nback to the user to indicate the start of the recording. For 'freeform' and 'model'\r\nplease refer to the ispeech API manual. 'freeform' defaults to 3 (Normal speech)\r\nThe recorded sound is send over to iSpeech ASR service and the\r\nreturned text string is assigned as the value of the channel variable 'utterance'.\r\n\r\nThe script sets the following channel variables:\r\nstatus     : Return status. 0 means success, non zero values indicate different errors.\r\nutterance  : The generated text string.\r\nconfidence : A value between 0 and 1 indicating how 'confident' the recognition engine\r\n    feels about the result. Values bigger than 0.90 usually mean that the\r\n    resulted text is correct.\r\n\r\n--------\r\nExamples\r\n--------\r\nsample dialplan code for your extensions.conf\r\n\r\n;iSpeech TTS test\r\nexten => 3,1,Answer()\r\nexten => 3,n,agi(ispeech-tts.agi,\"This is a test of the ispeech text to speech engine in asterisk.\")\r\nexten => 3,n,agi(ispeech-tts.agi,\"Esta es una simple prueba en español.\",usspanishfemale)\r\nexten => 3,n,agi(ispeech-tts.agi,\"这是一个简单的测试，在中国。有一个愉快的一天。\",chchinesefemale)\r\nexten => 3,n,Hangup()\r\n\r\n\r\n;Speech recognition test\r\nexten => 4,1,Answer()\r\nexten => 4,n,agi(ispeech-tts.agi,\"Please say something in English. When done press the pound key.\")\r\nexten => 4,n(record),agi(ispeech-asr.agi,en-US)\r\nexten => 4,n,Noop(== Script returned: ${status} , ${confidence} , ${utterance} ==)\r\nexten => 4,n,GotoIf($[\"${status}\" = \"0\"]?success:fail)\r\n\r\nexten => 4,n(success),GotoIf($[\"${confidence}\" > \"0.3\"]?playback:retry)\r\n\r\nexten => 4,n(retry),agi(ispeech-tts.agi,\"Can you please repeat more clearly?\")\r\nexten => 4,n,goto(record)\r\n\r\nexten => 4,n(playback),agi(ispeech-tts.agi,\"The text you just said was...\")\r\nexten => 4,n,agi(ispeech-tts.agi,\"${utterance}\")\r\nexten => 4,n,goto(end)\r\n\r\nexten => 4,n(fail),agi(ispeech-tts.agi,\"Failed to get speech data.\")\r\nexten => 4,n(end),Hangup()\r\n\r\n\r\n;Voice dialing example\r\nexten => 5,1,Answer()\r\nexten => 5,n,agi(ispeech-tts.agi,\"Please say the number you wish to dial.\")\r\nexten => 5,n(record),agi(ispeech-asr.agi,en-US,,phonenumber)\r\nexten => 5,n,GotoIf($[$[\"${status}\" = \"0\"] & $[\"${confidence}\" > \"0.3\"]]?success:retry)\r\n\r\nexten => 5,(success),agi(ispeech-tts.agi,\"Dialing ${utterance}\")\r\nexten => 5,n,goto(${utterance},1)\r\n\r\nexten => 5,n(retry),agi(ispeech-tts.agi,\"Can you please repeat?\")\r\nexten => 5,n,goto(record)\r\n\r\n\r\n;IVR test\r\nexten => 6,1,goto(my_ivr,s,1)\r\n\r\n[my_ivr]\r\nexten => s,1,Answer()\r\nexten => s,n,Set(TIMEOUT(digit)=5)\r\nexten => s,n,Set(TIMEOUT(response)=8)\r\nexten => s,n,agi(ispeech-tts.agi,\"Welcome to my small interactive voice response menu.\")\r\nexten => s,n(start),agi(ispeech-tts.agi,\"Please dial a digit.\",,any)\r\nexten => s,n,Waitexten()\r\n\r\nexten => _X,1,agi(ispeech-tts.agi,\"You just pressed ${EXTEN}. Try another one please.\",,any)\r\nexten => _X,n,Waitexten()\r\n\r\nexten => i,1,agi(ispeech-tts.agi,\"Invalid extension.\")\r\nexten => i,n,goto(s,start)\r\n\r\nexten => t,1,agi(ispeech-tts.agi,\"Request timed out.\")\r\nexten => t,n,goto(h,1)\r\n\r\n-------\r\nLicense\r\n-------\r\nThe iSpeech asterisk plugins are distributed under the GNU General Public\r\nLicense v2. See LICENSE for details.\r\n\r\n--------\r\nHomepage\r\n--------\r\nhttps://github.com/zaf\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}